schema_version: "1.0"
display_name: "DHF耳机配置"

sections:
  basic:
    name: "基础配置"
    icon: "settings"
    fields:
      ic_model:
        type: "select"
        label: "IC型号"
        options:
          - {value: 0, label: "AC7106A8"}
          - {value: 1, label: "AC7103D4"}
        default: 0
        required: true
      
      vm_operation:
        type: "select"
        label: "VM操作"
        options:
          - {value: "erase", label: "擦除"}
          - {value: "keep", label: "保持"}
        default: "erase"
      
      pa_control:
        type: "boolean"
        label: "功放手动控制"
        default: false
  
  key_actions:
    name: "按键配置"
    icon: "keyboard"
    groups:
      call_scenario:
        name: "通话场景"
        fields:
          active_click:
            type: "select"
            label: "通话中单击"
            options:
              - {value: "APP_MSG_NULL", label: "无操作"}
              - {value: "APP_MSG_CALL_ANSWER", label: "接听"}
              - {value: "APP_MSG_CALL_HANGUP", label: "挂断"}
              - {value: "APP_MSG_VOL_UP", label: "音量+"}
              - {value: "APP_MSG_VOL_DOWN", label: "音量-"}
            default: "APP_MSG_NULL"
          
          incoming_click:
            type: "select"
            label: "来电单击"
            options:
              - {value: "APP_MSG_CALL_ANSWER", label: "接听"}
              - {value: "APP_MSG_CALL_REJECT", label: "拒接"}
              - {value: "APP_MSG_NULL", label: "无操作"}
            default: "APP_MSG_CALL_ANSWER"
          
          incoming_double_click:
            type: "select"
            label: "来电双击"
            options:
              - {value: "APP_MSG_CALL_REJECT", label: "拒接"}
              - {value: "APP_MSG_CALL_ANSWER", label: "接听"}
              - {value: "APP_MSG_NULL", label: "无操作"}
            default: "APP_MSG_CALL_REJECT"
      
      music_scenario:
        name: "音乐场景"
        fields:
          tws_connected_left_click:
            type: "select"
            label: "TWS连接-左耳单击"
            options:
              - {value: "APP_MSG_MUSIC_PLAY_PAUSE", label: "播放/暂停"}
              - {value: "APP_MSG_MUSIC_PREV", label: "上一首"}
              - {value: "APP_MSG_MUSIC_NEXT", label: "下一首"}
              - {value: "APP_MSG_VOL_UP", label: "音量+"}
              - {value: "APP_MSG_VOL_DOWN", label: "音量-"}
              - {value: "APP_MSG_NULL", label: "无操作"}
            default: "APP_MSG_MUSIC_PLAY_PAUSE"
          
          tws_connected_right_click:
            type: "select"
            label: "TWS连接-右耳单击"
            options:
              - {value: "APP_MSG_VOL_UP", label: "音量+"}
              - {value: "APP_MSG_VOL_DOWN", label: "音量-"}
              - {value: "APP_MSG_MUSIC_PLAY_PAUSE", label: "播放/暂停"}
              - {value: "APP_MSG_MUSIC_PREV", label: "上一首"}
              - {value: "APP_MSG_MUSIC_NEXT", label: "下一首"}
              - {value: "APP_MSG_NULL", label: "无操作"}
            default: "APP_MSG_VOL_UP"
          
          tws_disconnected_click:
            type: "select"
            label: "TWS断开-单击"
            options:
              - {value: "APP_MSG_MUSIC_PLAY_PAUSE", label: "播放/暂停"}
              - {value: "APP_MSG_MUSIC_PREV", label: "上一首"}
              - {value: "APP_MSG_MUSIC_NEXT", label: "下一首"}
              - {value: "APP_MSG_NULL", label: "无操作"}
            default: "APP_MSG_MUSIC_PLAY_PAUSE"
      
      special_keys:
        name: "特殊按键"
        fields:
          factory_reset:
            type: "select"
            label: "恢复出厂设置"
            options:
              - {value: "long_press_10s", label: "长按10秒"}
              - {value: "triple_click", label: "三击"}
              - {value: "disabled", label: "禁用"}
            default: "long_press_10s"
          
          dut_mode:
            type: "select"
            label: "DUT测试模式"
            options:
              - {value: "double_click_power_on", label: "开机双击"}
              - {value: "long_press_power_on", label: "开机长按"}
              - {value: "disabled", label: "禁用"}
            default: "double_click_power_on"
  
  led_config:
    name: "灯效配置"
    icon: "lightbulb"
    groups:
      tws_status:
        name: "TWS连接状态"
        fields:
          tws_pairing:
            type: "select"
            label: "TWS配对中"
            options:
              - {value: "LED_STA_FAST_FLASH_BLUE", label: "蓝灯快闪"}
              - {value: "LED_STA_SLOW_FLASH_BLUE", label: "蓝灯慢闪"}
              - {value: "LED_STA_FAST_FLASH_RED", label: "红灯快闪"}
              - {value: "LED_STA_ALL_OFF", label: "关闭"}
            default: "LED_STA_FAST_FLASH_BLUE"
          
          tws_connected:
            type: "select"
            label: "TWS已连接"
            options:
              - {value: "LED_STA_ALL_OFF", label: "关闭"}
              - {value: "LED_STA_SLOW_FLASH_BLUE", label: "蓝灯慢闪"}
              - {value: "LED_STA_SOLID_BLUE", label: "蓝灯常亮"}
            default: "LED_STA_ALL_OFF"
          
          tws_disconnected:
            type: "select"
            label: "TWS断开"
            options:
              - {value: "LED_STA_FAST_FLASH_RED", label: "红灯快闪"}
              - {value: "LED_STA_SLOW_FLASH_RED", label: "红灯慢闪"}
              - {value: "LED_STA_ALL_OFF", label: "关闭"}
            default: "LED_STA_FAST_FLASH_RED"
      
      bt_status:
        name: "蓝牙连接状态"
        fields:
          bt_pairing:
            type: "select"
            label: "蓝牙配对中"
            options:
              - {value: "LED_STA_FAST_FLASH_BLUE", label: "蓝灯快闪"}
              - {value: "LED_STA_SLOW_FLASH_BLUE", label: "蓝灯慢闪"}
              - {value: "LED_STA_ALTERNATE_RED_BLUE", label: "红蓝交替闪烁"}
            default: "LED_STA_ALTERNATE_RED_BLUE"
          
          bt_connected:
            type: "select"
            label: "蓝牙已连接"
            options:
              - {value: "LED_STA_ALL_OFF", label: "关闭"}
              - {value: "LED_STA_SOLID_BLUE", label: "蓝灯常亮"}
              - {value: "LED_STA_SLOW_FLASH_BLUE", label: "蓝灯慢闪"}
            default: "LED_STA_ALL_OFF"
      
      system_events:
        name: "系统事件"
        fields:
          power_on:
            type: "select"
            label: "开机"
            options:
              - {value: "LED_STA_SOLID_BLUE_2S", label: "蓝灯常亮2秒"}
              - {value: "LED_STA_FAST_FLASH_BLUE_3TIMES", label: "蓝灯快闪3次"}
              - {value: "LED_STA_ALL_OFF", label: "关闭"}
            default: "LED_STA_SOLID_BLUE_2S"
          
          power_off:
            type: "select"
            label: "关机"
            options:
              - {value: "LED_STA_SOLID_RED_2S", label: "红灯常亮2秒"}
              - {value: "LED_STA_FAST_FLASH_RED_3TIMES", label: "红灯快闪3次"}
              - {value: "LED_STA_ALL_OFF", label: "关闭"}
            default: "LED_STA_SOLID_RED_2S"
          
          low_battery:
            type: "select"
            label: "低电量"
            options:
              - {value: "LED_STA_SLOW_FLASH_RED", label: "红灯慢闪"}
              - {value: "LED_STA_FAST_FLASH_RED", label: "红灯快闪"}
              - {value: "LED_STA_ALL_OFF", label: "关闭"}
            default: "LED_STA_SLOW_FLASH_RED"
  
  power_mgmt:
    name: "电源管理"
    icon: "battery"
    fields:
      low_battery_threshold:
        type: "number"
        label: "低电量阈值 (%)"
        min: 5
        max: 30
        default: 15
      
      auto_shutdown_time:
        type: "number"
        label: "自动关机时间 (分钟)"
        min: 1
        max: 60
        default: 10
      
      charging_indication:
        type: "boolean"
        label: "充电指示灯"
        default: true
      
      battery_report_interval:
        type: "number"
        label: "电量报告间隔 (秒)"
        min: 10
        max: 300
        default: 60